基于UE4引擎的游戏寻路功能设计与优化
一、选题依据(课题来源、选题依据和背景情况；课题研究目的、学术价值或实际应用价值)

​		电子游戏凭借其独特的互动性、有趣的玩法，成为了当代年轻人最受欢迎的娱乐方式。现今游戏产业的消费市场日渐庞大，是国家经济发展的重点产业。人工智能模块一直是游戏设计的核心，如何塑造更真实更聪明的游戏角色，是游戏开发者亟待解决的难题，寄托了设计师对游戏品质的追求。一个游戏的AI模块主要包括三个方面：环境信息收集 、智能寻路系统、角色行为决策 。而角色寻路功能起着承上启下的作用，是游戏AI研究中很重要也很基础的部分。如果寻路系统不能表现很好的视觉效果，愚蠢的游戏决策行为将会极大的破坏玩家游戏体验。

​		游戏寻路技术的理论基础是游戏导航图的构建和图搜素技术。游戏导航图主要分为栅格，多边形网格和可视点导航图，需要依据游戏类型选取合适的构建方法 。图搜索技术分为盲目搜索和启发式搜索，A* 算法是静态图启发式搜索的典型代表，是游戏寻路技术的理论算法。但传统的A*算法在实际应用中有许多效率瓶颈，消耗过多的内存和CPU资源。为此，研究人员多次对A * 算法进行改良和优化，产生了八个变体算法：束搜索 、 迭代加深 、 动态加权 、 带宽搜索、双向搜索、动态A* 和终身规划A* 、跳点搜索、Theta* 。但即便如此，寻路系统依然仅在简单寻路上有不错的效果。一旦面对复杂的游戏环境，算法的效率和精度都无法令人满意。

​		通过UE4引擎创建真实的游戏场景，在实践中优化游戏寻路功能。寻找算法效率和精度的平衡点，使其更适用于游戏的实际需求，在理论上改良出更高效更适用的变体搜索算法。在实际的寻路功能设计中，为了满足游戏的不同需求，还需要考虑更多的状态和算法。在实践中解决开发者会面临的动态图搜索、路径平滑、群体避障等问题。

- 背景
  - 寻路系统对AI很重要

- 问题

  - 实践中还存在。。。。，理论界。。。。
  - 游戏存在寻路需求，效果不理想

  - 理论多，实践少，效果差

- 作用
  - 通过研究+你的题目，可以从理论上明确+xxx的具体作用，进而指导......进一步完善与发展，有利于更好地......指导......制定和实施，有助于在xxx领域更好地开展+你的题目的工作。

二、文献综述(国内外研究现状、发展动态；查阅的主要文献)

​		寻路功能作为游戏的一个基础模块，在游戏逐渐复杂的发展历程中，出现了更多的困难和阻扰。由于A*算法自身效率跟不上游戏的实际发展速度，为了解决寻路难题，往往需要游戏为此进行妥协。要么策划不得不砍掉需求，要么对地图进行大量的修改和简化，再辅以更高的辅助成本来对地图路径进行规划。为了优化和改良A * 算法，研究人员在实践中提出了多种变体算法。

​	   动态加权算法：数学模型：F(n) = G(n) + W(n) * H(n) 。破坏了H(n)的一致性约束,无法保证取得最优解。在搜索开始时应该增大 W(n) 使搜索偏向深度优先，快速接近目标节点更加重要。在搜索快结束时应该降低 W(n) 使搜索偏向宽度优先。找到更短的到达目标节点的路径更加重要。动态加权A* 能更快速的求解问题，但牺牲了算法的精确度。且精确度和剪枝效率和 W(n) 的取值有关，依赖于程序员的经验。

​	  跳点搜索算法JPS：澳大利亚两位教授于2011年提出的基于Grid格子的寻路算法。利用网格的规律性优化了寻找后继节点的操作，算法通过寻找跳跃点并跳过中间的对称节点，来提升算法搜索速度。但算法只适用于规则化网格寻路问题，且限制了障碍物的种类。

​		Recast算法：多边形网格的导航图的构建算法，规则化网格地图不适用于复杂的三维场景，游戏引擎使用Recast算法来处理静态网格的数据。

​		ROV避障算法：在游戏场景中，寻路角色在寻路过场中需要选择最优速度自动避免移动障碍物之间的碰撞问题。

​		[1] Karl Kurzer.   Path Planning in Unstructured Environments: A Real-time Hybrid A\* Implementation for Fast and Deterministic Path Generation for the KTH Research Concept Vehicle.   2016
​		[2] Dmitri Dolgov.  Sebastian Thrun. Michael Montemerlo. James Diebel.   Path Planning for Autonomous Driving in Unknown Environments.   2008

​		[3]邹会来. 人工智能技术在游戏开发中的应用与研究[D]. 浙江师范大学.

​		[4]邱磊. 利用跳点搜索算法加速A*寻路[J]. 兰州理工大学学报, 2015, 41(3):6.

​		[5]李桥. 基于NavMesh自动寻路算法在动态寻路问题上的研究[D]. 华中科技大学, 2019.

三、研究内容

1．学术构想与思路；主要研究内容及拟解决的关键问题（或技术）

学术构想与思路：

​	A* 算法的性能主要是由它的启发函数决定的。一方面可以寻找更有效的启发式函数，另一方面可以牺牲一定的精确度，通过剪枝多余节点来换取更高的性能。在大多数游戏中，寻路需要的不是最优路径，而仅仅是看起来不错的聪明的路径。权衡算法的速度和准确度,可以让游戏运行得更快。通过改良A * 算法可以大幅提升运行效率。游戏中常用的导航图主要是栅格和多边形网格，为了更全面的研究寻路模块，需要改良算法在两种不同的导航图中的运行效率。

主要研究内容及拟解决的关键问题：
	主要研究如何修改A* 算法的启发式函数如何改进，以及改良后的优化算法在游戏中常用的栅格地图和多边形网格地图中的寻路效果。研究实际寻路过程中会遇到的额外的挑战，解决群体避障和动态搜索问题。研究如何把这些不同的功能代码优雅的拆分和组合到一个模块中。
​	

2．拟采取的研究方法、技术路线、实施方案及可行性分析
	使用UE4引擎搭建游戏场景，分别在栅格地图和多边形网格地图中随机生成障碍物。使用C++编程实现和改良优化算法，并将算法的搜索时长和搜索的路径节点数量绘制成图，研究算法的改良效果。 在寻路算法的基础上加入ROV避障算法和动态网格搜索算法，观察算法的实际运行效果。
	可行性分析：
			有较好的编程能力，对UE4引擎也有一定的了解，可成功编写实验程序。实验中涉及的A* 算法和 ROV算法都有理论基础，可优化游戏寻路功能。
			
			
			优化效果在滑块上已得到一定的检验，对旅行商问题应该也有一定的作用
		


对旅行商问题按照概率分布的思路来剪枝，用 Python 编码实现优化后的 A\* 算法，并将结果绘制成图。在实验中检测 kn 的取值与优化效果的关系，希望从中找到 kn 的取值规律并推广到更一般的问题中。
可行性分析：
	有较好的编程能力，和A\*算法的实现经验，可成功编写实验程序。
	优化效果在滑块上已得到一定的检验，对旅行商问题应该也有一定的作用
		

四、论文（设计）进度安排